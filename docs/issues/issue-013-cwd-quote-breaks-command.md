# [中] 工作目录包含单引号时启动命令失败

## 概要
tmux 发送命令使用 `cd '$cwd'` 形式拼接。当 `cwd` 包含单引号时，字符串被截断，导致 `cd` 失败并影响 Codex 与 HUD 启动。

## 影响
- 在包含 `'` 的目录中无法启动 Codex HUD。
- 可能导致 HUD 进程与 Codex CLI 启动失败或异常。

## 位置
- `bin/codex-hud:424`
- `bin/codex-hud:433`

## 复现步骤
1. 创建包含单引号的目录，例如 `mkdir "test'proj"`。
2. 进入该目录后运行 `codex-hud`。
3. 观察 tmux pane 中 `cd` 失败并导致后续命令异常。

## 预期结果
工作目录包含任意字符时仍能正确启动。

## 实际结果
含单引号的目录会导致启动命令失败。

## 修复建议
- 对 `$cwd` 使用安全的 shell 转义（如 `printf "%q"`）。
- 或通过 `tmux send-keys -l` 逐字输入，避免手写引号拼接。

## 修复记录
- 状态：已修复
- 修复人：codex
- 修复时间：2026-01-30
- 变更说明：使用 `printf %q` 对 cwd 做 shell 转义，避免单引号破坏命令拼接。
- 验证方式：已执行（本地），构造包含单引号的目录并按 `cd ${cwd_escaped}` 方式执行，路径解析正确（`/tmp/test'proj`）。
- 验证时间：2026-01-30
